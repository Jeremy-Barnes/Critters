<h1>Inventory I guess!</h1>
<div class="inlineblock">
    <!----------------------CONVERSATION VIEW------------------>
    <div id="viewDetail" *ngIf="activeConversation!=null">
        Conversation view
        <div *ngFor="let message of activeConversation">
            <div class="messageSubject">{{message.messageSubject}}</div>
            <div><span>From: <a class="messageUser">{{message.sender.userName}}</a> | {{message.dateSent.toLocaleString()}}</span></div>
            <br />
            <p>{{message.messageText}}</p>
            <input type="button" (click)="reply(message)" value="reply" /> <input type="button" (click)="deleteConversation(message)" value="Delete Message" />

            <div id="reply" *ngIf="replyMessage != null && replyMessage.messageID == message.messageID">
                Subject: <input type="text" [(ngModel)]="newMessage.messageSubject" /> <br />
                Message: <textarea [(ngModel)]="newMessage.messageText"></textarea><br/>
                <input type="button" (click)="sendMessage()" value="Send" />
                <input type="button" (click)="cancelReply()" value="Stop Editing" />
            </div>
        </div>
        <input type="button" (click)="replyLatest()" value="Reply Latest" />
        <input type="button" (click)="returnToOverview()" value="Back to Messages" />
        <input type="button" (click)="deleteConversation(activeConversation)" value="Delete Conversation" />
    </div>



    <!----------------------COMPOSE VIEW------------------>
    <div id="composeNew" *ngIf="activeConversation==null && newMessage!=null">
        To: <autocomplete *ngIf="composeToFriend == null" 
                          [autocomplete-local-func]="searchFriends" [autocomplete-remote-func]="searchUsers" (result-out)="onItemSelected($event)"></autocomplete>
        <span *ngIf="composeToFriend != null">{{composeToFriend.userName}} <a (click)="deselctComposeFriend()">X</a></span>
        <br />
        Subject: <input type="text" [(ngModel)]="newMessage.Subject" /> <br />
        
        Message: <textarea [(ngModel)]="newMessage.messageText"></textarea><br />
        <input type="button" (click)="sendMessage()" value="Send" />
        <input type="button" (click)="cancelCompose()" value="Stop Editing" />
    </div>




    <!----------------------MAIN VIEW------------------>
    <div id="mainView" *ngIf="activeConversation==null && newMessage == null">

        <div class="tab-content">

            <div id="inbox" class="tab-pane fade in active">
                {{inventory.count}} Items
                <br />
                <div *ngFor="let item of inventory">
                    <div>
                        <div class="itemTitle">
                            {{item.inventoryItemsGrouped[0].description.itemName}} <br /> {{item.inventoryItemsGrouped[0].description.itemDescription}}
                        </div>
                        <div class="itemTitle">
                            Qty: {{item.inventoryItemsGrouped.length}}
                        </div>
                    </div>
                    <br /><br />
                </div>

                <input type="button" (click)="debug()" value="Debug" />
            </div>

        </div>
    </div>


</div>